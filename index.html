<!DOCTYPE html>
<html lang="en-US" ng-app='myApp'>

<head>
    <meta charset="utf-8" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">
    <script src="https://cdn.firebase.com/js/client/2.3.2/firebase.js"></script>
    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/1.2.0/angularfire.min.js"></script>
    <script src="TeacherAssistant.js"></script>
    <title>Teacher Assistant</title>
</head>

<body>

    <div class="container">

        <div ng-controller='studentCtrl'>

            <div class="page-header">
                <h1>Teacher Assistant <small>ISTM6215 Project <strong> H</strong>uman  <strong>C</strong>omputer Interaction</small>  
                <span ng-show="studentName">     Welcome,   {{studentName}}</span>  <span ng-show="teacherName">     Welcome,   {{teacherName}}</span></h1>
            </div>

            <!--
             /*******************************************************  
                                    MAIN MENU
                 ******************************************************* */
    -->



            <span ng-show="IsMainPanelVisible"> 
            
            
            <div class="btn-group btn-group-justified" role="group" aria-label="...">

                <div class="btn-group" role="group">

                    <button type="button" class="btn btn-default " ng-click="ShowStudentsPanel()" class='glyphicon glyphicon-user'>
                       <h4><small>STUDENTS</small></h4>  

                         <span class='glyphicon glyphicon-user'> </span>

            </button>

        </div>

        <div class="btn-group" role="group">
            <button type="button" class="btn btn-default " ng-click="ShowTeachersPanel()">
                <h4><small>TEACHERS</small></h4>
                <span class='glyphicon glyphicon-user'> </span>
            </button>



        </div>

    </div>

    <!--<img src="http://www.gotthetahealing.com/attachments/Image/website/top_teacher_assistant_hat-p148601626706409662qz14_400.jpg" alt="Teacher Assistant" style="width:400px;height:400px;" style="float:center">-->




    </span>


    <!--
             /*******************************************************  
                                    STUDENTS PANEL
                 ******************************************************* */
    -->





    <span ng-show="IsStudentsPanelVisible"> 


            <div class="btn-group btn-group-justified" role="group" aria-label="...">

                <div class="btn-group" role="group">

                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-click="ShowHideStudents()">
                        <h4><small>1</small></h4> Select Student

                        <!-- <span ng-show="IsVisible">
                           {{studentName}}  </span>-->
    <span class="caret"></span>

    </button>

    </div>

    <div class="btn-group" role="group">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="ShowHideStudentQuestions()" ng-disabled='studentName == null'>
            <h4><small>2</small></h4> Select Question <span class="caret"></span>
        </button>



    </div>

    <div class="btn-group" role="group">
        <button type="button" ng-disabled='studentName == null ' class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="ShowHideStudentMessages()">
            <h4><small>3</small></h4>Select Message <span class="caret"></span>
        </button>


    </div>

    <div class="btn-group" role="group">
        <button type="button" ng-disabled='studentName == null ' class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="LogOut()">
            <h4><small>4</small></h4>Log Out <span class="caret"></span>
        </button>


    </div>

    </div>
    <!--end student buttons group -->


    </span>



    <!--
             /*******************************************************  
                                    TEACHERS PANEL
                 ******************************************************* */
    -->




    <span ng-show="IsTeachersPanelVisible"> 


            <div class="btn-group btn-group-justified" role="group" aria-label="...">

                <div class="btn-group" role="group">

                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-click="ShowHideTeachers()">
                        <h4><small>1</small></h4> Select Teacher

                        <!-- <span ng-show="IsVisible">
                           {{studentName}}  </span>-->
    <span class="caret"></span>

    </button>

    </div>

    <div class="btn-group" role="group">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="ShowHideTeacherQuestions()" ng-disabled='teacherName == null'>
            <h4><small>2</small></h4> Select Question <span class="caret"></span>
        </button>



    </div>

    <div class="btn-group" role="group">
        <button type="button" ng-disabled='teacherName == null ' class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="ShowHideTeacherMessages()">
            <h4><small>3</small></h4>Select Message <span class="caret"></span>
        </button>


    </div>

    <div class="btn-group" role="group">
        <button type="button" ng-disabled='teacherName == null ' class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" ng-click="LogOut()">
            <h4><small>4</small></h4>Log Out <span class="caret"></span>
        </button>


    </div>

    </div>
    <!--end teachers buttons group -->


    </span>









    <!--
             /*******************************************************  
                                    STUDENTS OPTIONS
                 ******************************************************* */
    -->


    <span ng-show="userTypeStudent">  
            
            
            

            <span ng-show="IsStudentMenuVisible">     <!--Show only when Select Student button is clicked-->

            <div class="jumbotron">

                <div class="row">

                    <div class="col-md-12">




          

        <br>

   
            <table class='table table-bordered'>

                <thead>
                    <th>Student Id</th>
                    <th>Student Name</th>
                    <th>Email</th>
                </thead>
                <tbody ng-repeat="student in students">

                    <tr>
                        
                         <td>
                             <button class='btn btn-default' ng-click='chooseStudent(student)'>
                            Select <span class='glyphicon glyphicon-ok'></span></button>
    {{student.studentId}}
    </td>
    <td>
        {{student.studentName}}
    </td>
    <td>
        {{student.studentEmail}}
    </td>

    </tr>


    </tbody>

    </table>


    <br>



    </div>
    <!--end col-md-row12 1 -->


    </div>
    <!--row 1 -->



    </div>
    <!--end Jumbotron 1 -->

    </span>







    <span ng-show="IsStudentQuestionsMenuVisible">     <!--Show only when Select Question button is clicked-->

            <div class="jumbotron">

                <div class="row">

                    <div class="col-md-12">


                        <h3>Selected Question: <small>{{questionDetails}} </small> </h3>


        
    <br>

    
        <table class='table table-bordered'>

            <thead>
                <th>Question Number</th>
                <th>Question Details</th>
    
            </thead>
            <tbody ng-repeat="question in questions">

                <tr>
                    <td>
                        <button class='btn btn-default' ng-click='chooseQuestion(question)'>
                        Choose <span class='glyphicon glyphicon-ok'></span></button>
    {{question.questionNumber}}
    </td>
    <td>
        {{question.questionDetails}}
    </td>


    </tr>


    </tbody>

    </table>



    <br>


    <h3>Selected Answer: <small>{{answerDetails}} </small> 
                            
                            <span ng-show="answerDetails"> <button class='btn btn-default' ng-click='saveChoosenAnswer(choosenAnswer)'>
                            Submit <span class='glyphicon glyphicon-ok'></span></button>  </span> 
                            
                        </h3>


    <table class='table table-bordered'>

        <thead>
            <th>Answer Number</th>
            <th>Answer Details</th>

        </thead>
        <tbody ng-repeat="answer in answers" ng-if="answer.questionNumber == questionNumber">

            <tr>
                <td>
                    <button class='btn btn-default' ng-click='chooseAnswer(answer)'>
                        Choose <span class='glyphicon glyphicon-ok'></span></button>
                    {{answer.answerNumber}}
                </td>
                <td>
                    {{answer.answerDetails}}
                </td>

            </tr>


        </tbody>

    </table>




    <br>



    </div>
    <!--end col-md-row12 1 -->


    </div>
    <!--row 1 -->



    </div>
    <!--end Jumbotron 1 -->

    </span>



    <br>


    <span ng-show="IsStudentMessagesMenuVisible">     <!--Show only when Messages button is clicked-->

        <div class="jumbotron">

            <div class="row">

                <div class="col-md-12">


                        <form ng-submit="addMessage()">
                            <h3>Student Message</h3>
                            <input type="text" ng-model="message">
                            <input type="submit" value="Add Message" class='btn btn-default'>
                        </form>



                        <ul class="chatbox">
                            <li ng-repeat="message in messages"><strong>{{ message.from }} </strong>: {{ message.content }} - {{ message.timestamp }}
                            </li>
                        </ul>


                </div>
                <!--end col-md-12 -->

            </div>
            <!--end row 2 -->


        </div>
        <!--end jumbotron 2-->
        </span>
    <!--end show span-->

    </span>
    <!--end show options when userType is Student-->

    <!--
             /*******************************************************  
                                    TEACHERS OPTIONS
                 ******************************************************* */
    -->





    <span ng-show="userTypeTeacher">     <!--Show only when Select Teacher button is clicked-->

        
        
          <span ng-show="IsTeacherMenuVisible">     <!--Show only when Select Teacher button is clicked-->
        
            <div class="jumbotron">

                <div class="row">

                    <div class="col-md-12">




          

        <br>

        <div>
            <table class='table table-bordered'>

                <thead>
                    <th>Teacher Id</th>
                    <th>Teacher Name</th>
                    <th>Email</th>
                    <th>Action</th>

                </thead>
                <tbody ng-repeat="teacher in teachers">

                    <tr>
                        
                         <td>
                            <input type='text' value="{{teacher.teacherId}}" disabled>
                        </td>
                        <td>
                            <input type='text' value="{{teacher.teacherName}}" >
                        </td>
                        <td>
                            <input type='text' ng-model="teacher.teacherEmail">
                        </td>

                        <td>
                            <button class='btn btn-default' ng-click='chooseTeacher(teacher)'>
                                Choose <span class='glyphicon glyphicon-ok'></span></button>

    <button class='btn btn-default' ng-click='updateTeacher(teacher)'>
        Update <span class='glyphicon glyphicon-ok'></span></button>
    <button class='btn btn-default' ng-click='deleteTeacher(teacher.teacherName)'>
        Delete <span class='glyphicon glyphicon-ok'></span></button>



    </td>



    </tr>


    </tbody>

    </table>


    <br>


    <h3>Create New Teacher: </h3>

    <div>

        <label>Teacher Id</label>
        <input type='text' id='teacherName' ng-model='teacherId'>
        <br>

        <label>Teacher Name</label>
        <input type='text' id='teacherName' ng-model='teacherName'>
        <br>

        <label>Teacher Email</label>
        <input type='text' id='teacherEmail' ng-model='teacherEmail'>
        <br>


    </div>

    <div>

        <button class='btn btn-default' ng-click='saveTeacher()'>
            Save <span class='glyphicon glyphicon-ok'></span></button>

    </div>


    <br>


    <h3>Create New Student: </h3>

    <div>

        <label>Student Id</label>
        <input type='text' id='studentName' ng-model='studentId'>
        <br>

        <label>Student Name</label>
        <input type='text' id='studentName' ng-model='studentName'>
        <br>

        <label>Student Email</label>
        <input type='text' id='studentEmail' ng-model='studentEmail'>
        <br>


    </div>

    <div>

        <button class='btn btn-default' ng-click='saveStudent()'>
            Save <span class='glyphicon glyphicon-ok'></span></button>

    </div>





    </div>


    </div>
    <!--end col-md-row12 1 -->


    </div>
    <!--row 1 -->



    </div>
    <!--end Jumbotron 1 -->



    </span>





    <span ng-show="IsTeacherQuestionsMenuVisible">     <!--Show only when Select Question button is clicked-->

            <div class="jumbotron">

                <div class="row">

                    <div class="col-md-12">


                        <h3>Selected Question: <small>{{questionDetails}} </small> 
                        
                        <span ng-show="questionDetails"> <button class='btn btn-default' ng-click='displayAnswers(questionNumber)'>
                            Statistics <span class='glyphicon glyphicon-ok'></span></button>
    </span>


    </h3>

    <br>


    <span ng-show="questionNumber">                   
                        
                        
     <h3>Student Answers for: <small>{{questionNumber}} </small> </h3>


    <table class='table table-bordered'>

        <thead>
            <th>Answer Number</th>
            <th>Student Name</th>
            <th>Answer Date</th>

        </thead>
        <tbody ng-repeat="answer in studentAnswers" ng-if="answer.questionNumber == questionNumber">

            <tr>
                <td>
                    {{answer.answerNumber}}
                </td>

                <td>
                   {{answer.studentName}}
                </td>

                <td>
                    {{answer.timeStamp}}
                </td>

    </tr>


    </tbody>

    </table>

    <br>
    <h3>All Answers for: <small>{{questionDetails}} </small> </h3>


    <table class='table table-bordered'>

        <thead>
            <th>Answer Number</th>
            <th>Answer Details</th>
            <th>Action</th>

        </thead>
        <tbody ng-repeat="answer in answers" ng-if="answer.questionNumber == questionNumber">

            <tr>
                <td>
                    <input type='text' value="{{answer.answerNumber}}" disabled>
                </td>
                <td>
                    <input type='text' ng-model="answer.answerDetails">
                </td>

                <td>


                    <button class='btn btn-default' ng-click='updateQuestion(question)'>
                        Update <span class='glyphicon glyphicon-ok'></span></button>
    <button class='btn btn-default' ng-click='deleteQuestion(question.questionNumber)'>
        Delete <span class='glyphicon glyphicon-ok'></span></button>



    </td>



    </tr>


    </tbody>

    </table>




    </span>





    <br>


    <h3>All Questions:  </h3>

    <table class='table table-bordered'>

        <thead>
            <th>Question Number</th>
            <th>Question Details</th>
            <th>Action</th>

        </thead>
        <tbody ng-repeat="question in questions">

            <tr>
                <td>
                    <input type='text' value="{{question.questionNumber}}" disabled>
                </td>
                <td>
                    <input type='text' ng-model="question.questionDetails">
                </td>

                <td>
                    <button class='btn btn-default' ng-click='chooseQuestion(question)'>
                        Choose <span class='glyphicon glyphicon-ok'></span></button>

                    <button class='btn btn-default' ng-click='updateQuestion(question)'>
                        Update <span class='glyphicon glyphicon-ok'></span></button>
                    <button class='btn btn-default' ng-click='deleteQuestion(question.questionNumber)'>
                        Delete <span class='glyphicon glyphicon-ok'></span></button>



                </td>



            </tr>


        </tbody>

    </table>




    <br>


    <h3>Create New Question: </h3>

    <div>

        <label>Question Number</label>
        <input type='text' id='questionNumber' ng-model='questionNumber'>
        <br>

        <label>Question Details</label>
        <input type='text' id='questionDetails' ng-model='questionDetails'>
        <br>


    </div>

    <div>

        <button class='btn btn-default' ng-click='saveQuestion()'>
            Save <span class='glyphicon glyphicon-ok'></span></button>

    </div>



    <br>


    <h3>Create New Answer: </h3>

    <div>

        <label>Question Number</label>
        <input type='text' id='questionNumber' ng-model='questionNumber'>
        <br>

        <label>Answer Number</label>
        <input type='text' id='answerNumber' ng-model='answerNumber'>
        <br>

        <label>Answer Details</label>
        <input type='text' id='answerDetails' ng-model='answerDetails'>
        <br>


    </div>

    <div>

        <button class='btn btn-default' ng-click='saveAnswer()'>
            Save <span class='glyphicon glyphicon-ok'></span></button>

    </div>







    </div>
    <!--end col-md-row12 1 -->


    </div>
    <!--row 1 -->



    </div>
    <!--end Jumbotron 1 -->





    </span>



    <br>


    <span ng-show="IsTeacherMessagesMenuVisible">     <!--Show only when Messages button is clicked-->

        <div class="jumbotron">

            <div class="row">

                <div class="col-md-12">


                        <form ng-submit="addMessage()">
                            <h3>Teacher Message</h3>
                            <input type="text" ng-model="message">
                            <input type="submit" value="Add Message" class='btn btn-default'>
                        </form>



                        <ul class="chatbox">
                            <li ng-repeat="message in messages"><strong>{{ message.from }} </strong>: {{ message.content }} - {{ message.timestamp }}
                            </li>
                        </ul>


                </div>
                <!--end col-md-12 -->

            </div>
            <!--end row 2 -->


        </div>
        <!--end jumbotron 2-->
        </span>
    <!--end show span-->


    </span>
    <!--end show option when userType is Teacher -->


    </div>
    <!--end studentCtrl -->

    </div>
    <!--end container-->


</body>

</html>
